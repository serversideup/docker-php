# These images vs others

| | **Official PHP Images** |**serversideup/php** |
|-------------------------|-------------------------|---------------------|
| Run latest version of PHP with Docker | ✅ | ✅ |
| PHP Compilation | PHP Source Code | [Ondřej Surý PPA](https://launchpad.net/~ondrej/+archive/ubuntu/php/+packages) |
Base Operating System | Debian, Alpine | Ubuntu 22.04 |
Init System | Basic, built-in with OS | [S6-Overlay](https://github.com/just-containers/s6-overlay) |
| Production-Ready by default| ❌ | ✅ |
| Built-in security optimizations | ❌ | ✅ |
Optimized for Laravel & WordPress| ❌ | ✅ |
NGINX + FPM variation| ❌ | ✅ |
Native health checks | ❌ | ✅ |

## What's S6 Overlay?
[S6 Overlay](https://github.com/just-containers/s6-overlay) is a process supervisor designed for containerization from the ground up. It's a modern alternative to [Supervisor (aka Supervisord)](https://supervisord.org/).

S6 Overlay is a perfect match for running PHP because it usually requires running multiple processes together.

## Why do we need multiple processes?
In some cases you don't, but that's usually for large scale operations. 99% of the time you just want your simple application to run efficiently without paying obnoxious hosting fees.

Running PHP can feel a little weird when it comes to serving your application + static content. There are old-school methods that can get you up and running quickly, but they use a lot of memory and weren't really designed for the modern days of containerization.

PHP-FPM is the more recent alternative which uses less memory. The problem is you also need something to server static files, which requires something like NGINX or Apache to do that for you.

This is where we run into a dilemma:
- Two processes are required, but I want one Docker container

## Shouldn't containers only have one process?
In a perfect world, that would be ideal -- but this isn't always realistic. This is why we stand behind [the philosophy of S6 Overlay](https://github.com/just-containers/s6-overlay#the-docker-way), specifically when it comes to running PHP:

- A container should do ***one thing*** (which may contain multiple processes). When that one thing stops, the container should also stop. 

## The advantages of S6 Overlay
When we configure PHP to run with the S6 Overlay system, we get a number of advantages:

- ✅ S6 Overlay was designed from the ground up to run with containers
- ✅ We get explicit control to run small scripts or configurations before/after the main processes start
- ✅ We get a better confidence on answering "Is my container actually healthy?"

## S6 Overlay vs. Supervisor
Many people flock to Supervisor, which was a very popular option before containerization. This is why we do not run Supervisor:

### How Supervisor reports container health
![Supervisor Container Health Example](/images/docs/supervisor-container.svg)

When you bring up Supervisord within a container, it will be assigned `PID 1`. Then Supervisor will bring up child processes with it.

During a failure, Supervisor can be configured to restart the child process to attempt recovery, but the container orchestrator thinks the container is still healthy because `supervisord` is occupying `PID 1` which is still healthy.

**This design can lead to inaccurate container health statuses during a failure.**

### How S6 Overlay reports container health
![S6 Overlay Container Health Example](/images/docs/s6-overlay-container.svg)
S6 Overlay was designed to be run in containers from the ground up. S6 Overlay can also attempt recovery, but it is more accurate on determining container health compared to Supervisor.

## Additional Benefits with S6 Overlay
Since S6 Overlay was designed around the idea of containerization, there are also a number of other advantages to properly time your customizations during container startup.

[Read how to make customizations →](/docs/guide/customizing-the-image)