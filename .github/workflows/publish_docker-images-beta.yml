name: Docker Publish (Beta Images)

on:
  workflow_dispatch:
  push:
    branches:
      - feature/php-source
    paths:
      - src/**
      - .github/workflows/**
      - scripts/**
  schedule:
    - cron: '0 8 * * 1'

jobs:
  build-beta-images:
    uses: ./.github/workflows/service_docker-build-and-publish.yml
    with:
      tag-prefix: "beta-"
      checkout-type: branch
    secrets: inherit

  # update_container_readme:
  #   runs-on: ubuntu-latest
  #   name: Push README to Docker Hub
  #   steps:
  #     - name: git checkout
  #       uses: actions/checkout@v3
  #       with:
  #         ref: main

  #     - name: push README to Dockerhub
  #       uses: peter-evans/dockerhub-description@v3
  #       with:
  #         username: ${{ secrets.DOCKER_HUB_README_USERNAME }}
  #         password: ${{ secrets.DOCKER_HUB_README_PASSWORD }}
  #         repository: serversideup/php-pro
  #         short-description: ${{ github.event.repository.description }}